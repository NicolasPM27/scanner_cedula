<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Autorización de Datos</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <div class="auth-container">
    
    <div class="auth-content">
      <!-- Header compacto -->
      <div class="auth-header">
        @if (!a11y.isSimpleMode()) {
          <div class="header-icon">
            <ion-icon name="shield-checkmark-outline" color="primary"></ion-icon>
          </div>
        }
        <h1 class="auth-title">Aviso de Privacidad</h1>
        <p class="auth-subtitle">Ley 1581 de 2012</p>
      </div>

      <!-- Notice compacto -->
      <div class="privacy-notice">
        <p class="notice-text">
          Autorizo de manera libre, previa y expresa al <strong>FOMAG</strong> para recolectar y tratar mis datos personales para la <strong>actualización de la Maestría de Afiliados</strong>.
        </p>
        <p class="notice-subtext">
          Sus datos serán protegidos y usados exclusivamente para fines institucionales, validación de identidad y gestión de servicios.
        </p>
      </div>

      <!-- Checkboxes -->
      <div class="consent-section">
        <div class="consent-item" [class.is-checked]="authorizationData.dataProcessingAgreed">
          <ion-checkbox 
            [(ngModel)]="authorizationData.dataProcessingAgreed"
            labelPlacement="end"
            justify="start">
            <div class="consent-label">
              <span class="consent-title">Autorizo el tratamiento de datos</span>
              <span class="consent-desc">Confirmo mi consentimiento informado.</span>
            </div>
          </ion-checkbox>
        </div>

        <div class="consent-item" [class.is-checked]="authorizationData.privacyPolicyAgreed">
          <ion-checkbox 
            [(ngModel)]="authorizationData.privacyPolicyAgreed"
            labelPlacement="end"
            justify="start">
            <div class="consent-label">
              <span class="consent-title">Acepto la Política de Privacidad</span>
              <span class="consent-desc">He leído mis derechos como titular.</span>
            </div>
          </ion-checkbox>
        </div>
      </div>
    </div>

    <!-- Actions -->
    <div class="auth-actions">
      <ion-button 
        expand="block" 
        size="large"
        [disabled]="!isFormValid()"
        (click)="confirm()"
        class="primary-btn">
        Autorizar y Continuar
      </ion-button>
      
      <ion-button 
        expand="block" 
        fill="outline"
        color="medium"
        (click)="cancel()">
        Cancelar
      </ion-button>
    </div>

  </div>
</ion-content>
